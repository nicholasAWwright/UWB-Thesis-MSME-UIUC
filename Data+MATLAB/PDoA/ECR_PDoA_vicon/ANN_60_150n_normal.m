function [Y,Xf,Af] = ANN_60_150n_normal(X,~,~)
%ANN_60_150N_NORMAL neural network simulation function.
%
% Auto-generated by MATLAB, 13-May-2020 19:50:33.
% 
% [Y] = ANN_60_150n_normal(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 4xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-166881;627;-105928;629];
x1_step1.gain = [6.4553820133691e-06;0.000655522779416585;8.43401437999452e-06;0.000655737704918033];
x1_step1.ymin = -1;

% Layer 1
b1 = [7.01917082423793115;-3.0346929091577878879;17.731894455384480835;4.5966190927186758586;7.9802575034408986809;14.117814481201884647;-5.476514728586466596;4.9558219577952122847;6.4932550325147078141;-6.6169075433275628129;6.6834331227677967746;8.64470146465188094;8.4172688976631526714;8.5949954393335747937;-5.5261183677117573509;-3.6098995558717859033;-17.621036856549540772;11.120263488674074992;8.3142590539213738765;-3.1838132627067885494;10.787197198969559864;7.9851097999479083711;6.8115399947758099586;-4.3629632236818061131;-3.3459452740728252707;4.979812907896793206;-2.7629425137345124952;30.793850494948056706;-6.814901062979634716;-11.665830248575158379;8.6822479499616846965;-3.1187538520416220322;-3.5470843282283768261;3.6213035307088321524;-1.8341764775535160936;-7.839123454505205757;4.2071777186769319101;5.6742097301347467209;3.5746432489222934592;2.6657218660386936548;2.1250652844950908005;-2.0964112475166021277;5.5361603526715859047;-1.6664241438644884497;9.8859817201875248571;-5.4548448203214325858;-1.6167208524720229068;3.656811337553723007;-1.8851362001370437493;6.6924089974005358528;0.82363892994289766847;-1.4436530366252464663;6.8704663362323641351;3.7100963616342443885;4.7181150023989335551;-2.6127714593702346946;-4.0703619686205234629;-2.7261421384004500545;2.6843626512500242676;1.3459653942037577146;0.4674801376332988756;-1.0056892430718344933;-1.1218949799608066709;-0.94251883965813376687;-1.5006965540036896201;2.274199843196046622;-0.31914947386139302932;1.4657876497838686625;-0.26430354200666827946;-0.53116505964420834829;-5.8429986876494393044;-1.2911307938299261266;1.9680757541340521133;0.82949267932797454694;0.35916823739870212817;-3.2958719097054607339;-0.47459799707548827596;-2.0162531946303250407;0.60782982382545547306;-5.2077907076204255077;1.3324404845174167011;-2.5024055537970459895;-0.34005926005705788828;0.020890834608422462204;-1.6835233459959264568;-1.7648663298997457893;5.2379012806327649443;4.5789801047368925424;2.6416722011475863852;2.7569944823573329096;-2.3126708342630690751;0.84360229410673515105;0.99624924338389986289;4.6951623474629160526;0.19038073839543795396;3.8152420238281417042;-0.87858672250374714174;8.1874095951599255017;-3.8787721732676518904;-2.2073314298843826897;-2.0772516855949110237;-6.912232298249137763;0.61145887041909030568;-5.4544132277802743758;-4.3616268555560830933;-16.334285988140170076;-7.2720093415441917628;-9.0357091053616187537;3.3036256405762030042;13.287508518980821748;-9.1797628644895592487;10.634112724343522061;-6.8260862751613844424;9.63807743122314875;-5.7426581838363564003;-3.147979868835214301;-3.5411286279293494594;9.2195235974920333177;-5.0637297853988876284;-2.4845517521735240862;4.1347386488015631656;-6.357989431956858617;-8.4451946929947965259;20.54717359877659888;-19.876871188794247303;5.9795846164816977009;7.4502068541174386596;-2.963341673147688482;5.0064601385022813318;-6.6339438153909515705;-4.6885861669241082339;12.386351817687325294;-19.904018265867179593;2.1905171894213859574;-4.7596723981571011919;-7.5774122613798864379;-20.734857121118366763;4.0561309053841760885;-8.4540850197493480067;-6.9241188262716555357;4.3394156307363598302;9.7994999457302700563;15.081446101599013332;-17.935744576489160096;7.4221665889724430798;8.468691731072386375;8.3292907651980510053;-8.8451582879331862586;8.4855169965798431519;-3.6726979534041790387];
IW1_1 = [-0.50388167506898273729 -4.181334677377692266 -9.9365624545706925375 -4.2040727895446643458;2.9465525138141988037 -0.5819314164904804132 0.11799382220023550694 -0.75346843830572840517;0.96626327353690144584 -7.9425117609404969343 -6.4707153252013593914 -14.274720282507606939;-2.9747022107060083762 2.2730564736543312776 2.4525794521616886001 1.4918423254412467305;-5.1934545290222704494 -1.9870627379224745646 8.5388328395074104549 -2.6369490681841196711;-4.8266665420584979884 -8.3114182433444003806 -13.722972854731294134 -6.4179048787802459586;5.9578996307273124344 -0.69001425435115026907 0.052915706569041535967 -0.81877325551864921227;-2.1484189461012035416 3.0740618582043532925 -4.2305611498705362195 3.20834478135540202;-6.7889228947056130536 3.5764206503102520252 6.2748529696357859819 1.8347886859003339488;2.6648404681174371333 -2.7330565254819920717 2.9716447830988190759 -1.6780762424708530745;-8.5505988771603913534 6.7176885268360768677 2.3949256370057305787 2.5415130410948179041;-6.538999052081323704 5.6076914084599858157 -0.68860670870137552502 6.3201070453134251537;-4.2915531628011507337 -0.3979607570575469655 15.68512393506001068 -1.9070989983963715364;-1.7222601203303524731 4.7846203674904721481 15.704076010095461058 5.9656380218854110353;7.5989390911742598078 -5.9702598568301930015 -2.0435565843602070402 -2.2205265579885677951;1.9672830169167765391 -1.9782090312918134689 -2.0625121526770660019 -1.0562593215437210414;23.01868591207582071 0.50813616916249859656 0.93337774367089554328 6.9645545245653837085;-4.4482558581043276646 -0.49533538072706689848 26.492201116518693027 -2.574633769701230257;-4.9853822064331252406 -1.9718348440838915359 9.388022397095188154 -2.8106019046702224173;1.8048534082335307982 1.6417853676092952764 -0.90277488296979924165 3.0415260429486079552;0.93318432466990675067 -9.5416762215315262807 2.8578935297535505988 -10.512881126613724092;-8.6653348183227247858 1.1506790031147346998 0.43490054972431479996 -2.7458490145212457456;-2.7756191680981898706 4.6762432177373201014 -5.9950775711711958849 4.1273428915848464626;1.2092747578844562639 6.8766125930375165964 -0.36125269332473780581 -2.6792075885680475267;0.26009221966969892081 0.85370531445391228953 6.2720734469455496907 2.6635355128376918543;-2.9553219844040787834 -2.512465699857713286 0.72982187435779588558 -4.9239733321030190183;1.7033706206573440145 2.2597375528571275183 6.1169192320401393204 2.659020023336575278;-13.951376894689234476 -9.1646634442403165366 17.759379650254054184 -20.592200580571752511;8.409614088039733204 6.6561855547748178807 0.88725122656685084799 7.7849347469365461905;6.3391149643675435144 11.538564025620347664 8.9584787541405557221 12.239808087307926243;-10.602924368604247363 -7.8481737241651412518 -0.94221104349115636367 -9.7135453821025983245;4.9141589147631261625 -0.48088085586943862815 2.4939740773556278164 0.91623670526822387217;2.0782783933558284239 -4.6624503175884264294 6.7108947101554816683 -3.6745607690283765834;-0.3816205902938900052 -2.7645265978917472616 -13.152203065906128643 -0.98379844258021431624;0.038921257301117728744 0.40603034202937943187 5.2484784563690407566 7.3567266178732433346;11.50320470809552198 3.1762464903894631618 -8.2615364316188326654 2.8725103898756172427;-4.5800803624498849231 -1.6465692906700011289 10.163805967614393921 -3.9681128513300367722;-3.957627817710766216 -7.3153020641879997754 4.1848015626963412927 -5.3396723415148628078;0.017384306536343371169 -4.1759600656743005587 -0.30544355995281247118 -5.9337107109176070452;-4.7404927726486496553 -0.23387303789476637794 -8.4832839559375692318 0.06605050358492825513;-1.6189258360973768358 -1.6469108011827287008 -4.4153709413585149335 -1.567745668607341436;1.2189237926836409276 -2.0962939655510326453 -3.3149584018660465112 -1.3207270930261167941;-2.6405450429329548889 -0.33584221906956213122 6.9084742721252982989 -4.0258177668293004814;2.9940422484609268139 1.7450757924932398524 1.8597617756258191246 3.6496179582467820346;-12.332973986716693204 -8.9126183220280665864 -1.096926851205888509 -10.8833301735279111;5.7488103587124017579 2.5612442533420205493 -13.37978561256274368 4.9153315352980175845;1.7570510625387960602 0.4721261977589154557 2.9840773422840780604 0.82682898101198720742;0.66336624093646323619 4.5729155910466730006 11.757738636953558142 3.8290053871670104435;4.0522309295380125604 0.12770827555593658453 6.8651885256628801812 -0.10086704941723217965;-8.5834333726975273748 -6.9515965444758478498 -0.926055062886958269 -8.0696078026256063964;-0.78589034597787843506 3.6594977098214958033 -6.2650088405479156251 1.9833330202285179844;3.0706889163741482029 3.1943363806247080383 0.0088818372542547804893 4.0130497607707740215;-10.338651312365325197 7.6810676453864283886 2.8736022430000036643 3.1996410667268726513;-11.472963682394221152 -3.4254034321824264886 -11.468779471217999344 -3.5039284298083281932;-2.7913644325977449157 -0.77112600671490549864 0.4673850370201481641 -3.0799070800936796388;7.1908337303931402218 0.13601982350476379824 12.051081969141097971 -0.17476703472539359407;4.6821897422075693385 -2.9871787305997501427 -17.798122144235964726 3.1325638088140315141;4.5502848020651454064 0.3275214486719362772 -0.6737753176753685791 0.7138210547298159403;0.027960413487309009051 -12.457194286894043955 -6.5251554759757786073 -7.6501262384001478267;-1.727439040746103549 8.7636790910345254701 6.3768901783679039497 10.819105255583643554;2.1434422502534378197 0.40910637244699482595 -0.25358933708485531522 1.1794671238877243447;1.6123866728254081515 -0.80406741538232273658 13.829105632676167659 0.3773252449910688977;4.7522343659630852386 2.3152061143263131804 -5.143479782675084877 0.89295901699864843604;2.5084210752409750178 2.1471677376701259199 4.6308996966562157027 1.9904045320243697326;7.5727795193337952284 15.859237263149729813 -1.39484432267910341 31.459640927575939884;-7.430046389818517838 3.3809419541375875795 4.7520617867068946083 -0.40939086192184204194;-9.0469309395227490711 -0.021259350469522191734 1.4304462453492086116 -0.94537964946742047978;-7.0598146238870675973 -15.782414942250222012 1.5600401896617523967 -29.542180874904335752;4.2852219298482374654 -2.3298140089627850102 -5.961212776299941396 -0.46859771861539373239;-11.94087784542671038 -4.188929308487107761 0.86930060057944347207 -7.3054789031934177501;36.548177718204946984 -2.832146199588446045 1.0661978518753312262 4.2519289069845696005;2.2343662137144604252 1.320026274276201006 2.1786719841860491265 2.8855101704957424325;1.4982837269288475923 -4.6712643868899386135 0.76622064774227827133 -4.7681313499409911927;-2.0422284866181490415 -1.8233303451717035593 -4.0181812388730984154 -2.0419425279837044584;2.2155240299457141795 -1.1191818453009660939 -1.5440276532995067527 -0.014155872139595595399;-10.366895929634194928 1.5328341691197275853 -0.081449533143019475778 0.8228068526610400335;-6.5067239758986845644 4.400563246586479238 8.7086472902833325094 5.7872035945594948458;-16.778572109718187022 1.6027195284921891272 0.98640100549554166065 0.0126010705261284401;-10.824454537268186627 7.3316587005129676413 -0.38703967815292472654 9.3968580161573811438;-7.0286980844641488986 -5.6911603136609318909 11.685592642239463146 -8.8557441510623196024;1.2811945913046096646 -0.64404111134215913381 2.378606938408776017 0.77493386419311560687;-1.1540793390160914988 5.6754281530289922841 -1.6280190578135729229 5.9435322980722036235;4.8156523767217516152 -5.9872572485960127153 -22.878658677278359335 3.8422342235265705135;3.6325777058589854285 -2.7350627477033251367 -4.7564659050721074252 -1.6855009363164326075;-2.0624504133753776003 1.312037206596796679 0.50668888421988955706 0.84063491598660500248;-6.6809828014152357056 -7.2210646195163379346 -0.087718526282614214806 -7.7934002852017663088;3.7781237428227436581 -4.7559341951657412295 3.6949997745162712626 1.7601332627789298968;13.857785254969664734 -4.4820503688879673732 -13.015920305196980067 -7.2909088477738697165;-0.9341447862095528798 -2.700572160449593806 -7.3182462313502529838 -3.618979347569088123;0.67809723308582536827 -6.5224080505698509569 1.8402667635252163425 -6.2041105242967660161;-5.5747506241796074278 -2.263143849171466826 -3.2107574764734558848 -5.2146228921660728872;0.24207595690388997167 -4.7065248098522394216 6.0088635347942229714 -0.93722614531977244123;-0.8146820319106975461 3.9493997006240113556 -6.9893585126101331895 2.0815241664462980076;10.701619341605695723 3.5244800406614187338 -1.3362519034329465306 11.012481224064218921;-4.1011903574383063997 2.2673375254508219001 6.2650291200099674782 0.21373578053853911629;4.1062521680151968795 -5.7460709129456528643 -7.716450700449068556 -0.56897080661295917903;-0.1462727310546994286 4.6441047083890421021 -6.2569871508311454278 0.85602422870128547228;-1.7649070223914691269 -11.211739233749158373 4.916375253911513532 -11.835613391075565204;-1.4606960647076765447 3.7572875700541823463 -2.9749378942181863295 4.4840063448782334632;-8.9405790829276678977 -2.6357778930057436106 9.9834356242162751727 -2.266059349193077388;-4.7647372609639777608 -2.0615047321216715126 -2.990444894598164538 -4.410624071719841055;-9.1384609187495211557 4.8256736182780075595 1.547507745885451369 -2.4945435984375956551;0.63227984773431156196 2.0627202104423054685 1.9455187027624620821 2.0956590323990371694;-2.4249241250226081235 -5.5598043067224978131 -5.1257083763851953861 -6.164528031454832302;-5.033865624046058862 -6.7385741885763943415 -0.45079442379169687438 -5.9124705471185086125;-9.9632168580381854639 11.85969249237861689 -20.273934850922000095 12.568405267326989261;-7.4210990174039990208 10.934056220768246348 14.319475594343947122 1.7272048478173125385;-9.046893725565995581 -14.118864697431620314 -13.973060777699238599 -12.285989902217664849;2.7090565162217896678 1.9901017109901937285 0.11271097178587653753 2.7928597690939436227;14.783261499967339958 -8.0725116939889876022 0.9000450904725494361 -6.399159152912853088;-18.217358968818444964 4.2959648423633964853 2.6416029681979815713 0.71592895821274804558;6.7890625261651340594 -13.18488452635166297 -1.8838837717057599352 -8.510406318806403192;-2.9996973105492905631 6.4571713472397336275 12.640567114143872018 4.2078515957499389444;14.165888490739233063 -11.937829783441143761 -2.6974301661834805266 -4.0313912534206952643;-7.2953534753173787664 4.1643126224006969949 1.3039410238592696878 -1.826696436528965739;0.24463312000648942957 -0.075942727318599551056 -5.3913881900206481745 -1.0838544900520297176;-0.18744306631703339105 1.2845108159664313519 6.3237477139939839432 2.8289409331218129395;5.0095270197035333126 -5.1133140834311348044 -8.2589747499334364988 -4.1981408396223036661;-3.1775794700873047915 -14.109366060668977028 -1.103852559636028241 15.166455785954068958;-2.1616948647503435588 3.0885295276817630317 4.1850388560609879107 0.41171496111810274021;6.6648665867242939953 -2.4138618229672474946 -12.709433291996063531 6.4000072159062773025;-1.8443390675434871984 2.2279413487686130502 -8.7657565859770478767 2.8909737570207236779;-10.602138230362978533 10.163595111062647902 -8.2324388078341215191 -4.0387003267816048435;27.296553419769626458 -0.63188565719647260543 -1.4288694989671066882 19.909713041772675979;-26.522138653542555176 0.36021562144766783309 1.3684135507387946706 -18.923389218190475702;5.7547213062091540081 -0.70684699899841374471 -3.7940706038340179518 2.7940847924106124722;3.2763507154101620955 -6.9640747592733873716 -13.481446287544441631 -4.5752138486418649777;0.13094190449808001953 1.3076695742126041022 -0.54260917281872089735 2.6372029217659633815;1.1775232155996475658 1.0412426994111252387 -5.8932547127534933296 4.6051607008965058654;-5.0542096670937715075 2.5557549204707852297 -5.1768131188868382608 4.0762924654165484384;-4.2362642393618141767 4.6996380497109946361 6.7013518383236974074 0.81845677223973889447;-0.37960270931243250692 -6.1322804745532595305 -6.7654936243327847833 -5.6994325274745989418;-6.7380462000282319579 9.1789255776287355104 12.624287029907515389 12.387189364580537543;2.2883961102009022781 -0.26295960542713031627 -1.3080943383263539115 0.91078041552584443341;-2.4409171033497689685 -1.9433532716951624764 6.2940435347158922852 -6.9595666953113139996;-4.1205676437078819774 -6.1951242772426784455 -5.5573545796966650201 -7.0856231839430332542;-27.275825800672635069 7.1748061147800159532 6.6069328853453885841 2.8148807778307260996;0.77751046476729135382 1.0397869866574784847 -5.2679377403415665881 3.4133945394334235246;-10.984552843301326419 3.9130484337239992421 3.9975285170784595756 0.64994187899484290316;-3.5039194761318928073 4.4092131646098344788 -5.9224459867326606499 0.53465628736220871531;0.04818327622412636041 1.9172645169257660491 -4.6983588436353702633 -2.1562996825885250018;4.8807213143025700575 6.6183860397066576198 0.97063806022265097795 6.1717313808875333692;16.579700356553892959 -9.4482707350506256461 0.86175304445395439767 -7.098203590406484409;-5.9330797440187525993 12.734134056450653105 10.578416318893577142 9.0266193911815495454;8.9606458005738574002 -4.6667611108431410472 -3.0334954514535450443 7.907806242615603054;3.5657178276912508963 -3.1986825439605750532 11.166206357916436787 -3.9664918647112745731;8.4946103698375008406 -3.8643786421286367982 0.80904803373757705476 -1.7671232516768893284;-8.9041848520157014235 -1.0858469864697124496 0.77710544755819277452 -2.0521625624540336119;7.9985944540722009322 -0.85047089844437240291 -5.083272115510915512 4.1644148082531247113;0.63344850831075949493 -2.6379382288226285169 -1.7786167308134266385 6.0473014177669677238];

% Layer 2
b2 = [0.12838287714139076656;-0.64051368804894159847;-1.5958120199343677204];
LW2_1 = [-0.014600006885389805317 -0.2957394223992491078 -0.0090644801434783955907 -0.003756943703112892996 0.10079504473560066402 0.0039469842487133543346 0.32209495768957169259 0.29137167607560671145 0.017155047097778045734 -0.02178612969870704491 -0.52879901708053467235 -0.074740699194982954112 -0.014631591424301607085 -0.00098491613468675931822 -1.0217902316534202001 0.017609561990003970433 -0.10451854793274435729 0.0031455427933359076872 -0.041946331189644324444 -1.1546984299058107304 -0.075658975087421823091 0.013445412757122724226 -0.21152648994900008494 -0.10982222236597098675 0.0391984530199151332 -0.8210115234678828644 0.06197035881909006283 0.024876441878583299 0.56584120093968293119 -0.019618533125953633439 0.61078696164067791674 -0.039012165336440349228 0.0080525317857903407071 -0.033891668009966104125 0.0062922618590073794986 0.021852907528360384498 0.031686824887189338207 -0.038642116001115695001 0.16142391883819889875 0.068844334065095991182 0.2340112687343319231 0.0449778040462149864 -0.091713481047214134856 0.28571442227126175872 -0.33576816907921575028 0.025754256507728227193 0.1031551609927940788 0.006587673472746712923 0.10130553922352807106 0.24821515723510600981 0.091107652487901563676 -0.071997884475692081052 -0.44614470315849386051 0.0025493495867935241604 -0.44351618530572672894 -0.027102625508694352247 0.013450359438607074544 -0.21533562572808276347 0.014851064370500320286 -0.011088704682798749407 0.17472287184660237336 0.019809071085644593124 -0.0096643066097324148434 -0.17031072757652782057 -0.38047926562118022931 -0.0011536112960855559456 -0.0060194249456758750633 -0.32322314226225551392 -0.032072205644107606992 -0.022816733241670272836 -0.16963755958408222035 -0.25467779221037861737 -0.10593591811015230786 -0.23305528208999876094 0.066262432351114231022 0.017052731150018270168 0.019760645171780943929 0.18658346719791182866 0.039696385613487580879 0.0062761268431489724423 0.087882319115011778288 -0.14265917810195111182 0.010772859536183185605 0.066635215076625217701 0.13133940717302067247 0.046396351522570704329 0.091608454055806268213 0.0037778929827040549916 -0.030844604767595963646 -0.13293903588843936081 -0.078207310526910794879 -0.10272867242226492446 -0.054964730899481208104 -0.010296374707270560325 -0.0055044331339560454569 0.045458718360439825945 -0.091431383488792747349 -0.020267958113971248219 0.026308047765113702632 0.022262091762589916039 0.08382598166664868844 -0.087871569264677595879 0.033078914219936125796 0.010371911701267118311 0.035289138641465017665 0.0043445873260103302915 0.016035391797444151912 -0.0031650072622545709876 -0.046165658878409690513 -0.43933822436318609173 0.15408736806906631056 -0.092287812523482823379 -0.087425259805736593721 0.039198088020765277373 0.15298908321873500027 -0.00047462705471388948707 -0.072871400127190261165 0.0860460385075022538 0.15515342072994994793 -0.0020159869418973769273 0.0046183089946069027024 -0.020025588490876183867 0.011184080848906215178 -0.26772236007954319792 -0.27696604222289872288 0.22071180919826649536 -0.069417618706919342886 -0.092630458554986166986 -0.029161744848941517638 0.042105776893166656227 0.0071940008178095430497 0.050374795759519128135 0.038581552842485655752 -0.15678151999732911626 0.01277304835337555837 -0.0031444083540987498998 0.149535201110672894 0.026104611970207625832 -0.070335999857300629534 0.2081366712167975197 -0.1778553266682873224 0.021979602982571289083 0.41457259953377123551 0.018419187314899020114 -0.011162058260843561036 0.019511166644364193873 0.028217504352579313859 -0.19169668512407617156 -0.13312861306726744837 -0.17112981871524526878;-0.0044504836378754407053 -1.5944513526987955654 -0.014232001068395236723 0.0013325768134199050298 -0.0053544393080927014245 0.0033326912403931307875 0.84607047103856436454 -0.11569291099183087734 0.010216855297006662701 0.12567559650007387173 -0.88794807511487627849 -0.10870704845546898254 0.0086291996536365569298 -0.017426353305533090476 -1.7239214507724800463 0.029360551267345075255 -0.086530655860265245916 0.0062079972072609070424 0.018295653561997533842 -0.28262230785405673128 -0.084554635468787053831 -0.027022441329370556345 0.093567957853131183965 0.036595852202783926699 0.071572942982711204585 -0.20675720607172715093 -0.017180900589321271288 0.021114797037309274846 1.3186084373388280433 -0.0030420030209269647431 1.6175225087073208385 0.059676839321917585224 0.0021684060341585439415 -0.010922225026817897545 0.0022595463445832983905 -0.017382450992517360644 -0.023662853763495979298 -0.039984940689146444837 0.082832264799565610836 0.049231501140233724367 0.023864440320200696471 -0.019254958339815764906 -0.037253356576825186197 -0.098075746472111841046 -0.74967120957781940849 -0.029319000571743771694 -0.090486655150528033653 0.0099445535442736886916 0.055836816656222955368 0.47152405414285669671 -0.11004387079445511477 -0.12969465618049316746 -0.71062123018394363072 0.012836798678697459303 -0.091099683035288939181 -0.0092622766783096114468 -0.0067333004331317754601 0.004151653840475741028 0.040635017001990014762 0.017675550708416726264 0.72166277955406576972 -0.012360411167877793231 -0.0097759534159034509881 -0.034381274053259941459 0.14372494840945923555 -0.010311139845439682219 0.059227411799361001643 0.10132340300107062214 -0.040536397253488364034 0.091062325821785861102 -0.030782863845853013218 0.18636556987097738225 -0.51805108285327372553 -0.0097071900811551217747 0.057504018809131328405 0.05885109345892407251 0.0011891830681541408748 -0.0051409783605850479724 0.099157927008489063492 0.0063547791539825867341 0.10001752343482822605 -0.95522168633050563713 0.0016650493524589357781 -0.010662990490742714489 -0.042609112619220748663 0.0037674806490273124969 0.062840022376435294982 0.006793034089886081095 -0.010473708632679514657 -0.58611975078643752113 -0.064772728580554148059 -0.029735461027165590447 0.11290823359122652281 -0.10580214800402014397 -0.035357667083982462219 0.11045566977422106858 0.00089078296352261467778 -0.045101387808756256137 -0.054191512293160416791 0.0082883785842516651682 0.079180168835903189106 -0.18448919687936374268 0.04006039953502271711 -0.024515966177424929062 -0.12447236708757054846 -0.00071731613628694859252 0.024937161217692713905 0.013856455276734829657 -0.27215233802524724238 0.84349415560584395379 -0.040886515528138059339 -0.15559482113048694885 -0.060528673885272180066 0.004938292569180022934 0.26505314870364327096 0.027559974939695811719 -0.051217143793367558846 -0.022470108310741261637 0.032533032074143132528 0.29594738845552059914 0.0012798164034935242094 -0.013311210624427962865 0.02436790249375747619 -0.13169489888906088515 -0.15614193357948516483 0.098159476244382523613 -0.035480280798793936703 0.045462618531518880771 0.018676403222135207205 0.0067346075436413334325 -0.13752430929653106095 0.052887016009401668915 -0.033797687524545205751 0.10050882319779806673 0.016814854564447416496 0.01594771983090106926 -0.16604087660514205149 -0.0055059998843779330013 0.051405015728515121576 0.073969458989923062009 0.023667094146569110646 0.32181041216451033993 -0.75249074609035881966 0.033521505014825529745 -0.012671464206214646392 -0.031065809315434601834 -0.077756834438409389021 0.09976228701479314398 -0.11223813309010892414 0.00022489540125630608919;-1.5062926732222001736 2.5744373843723020734 -0.68069900426503338053 3.1996390060922972332 2.3043738199571812686 0.89800677682068597019 -0.24358579757577758507 2.7849220936474625709 0.61991038184095781371 -1.4321352025511957518 0.032473981796152309731 -0.062428378704309187008 -0.20786462304572528303 0.33173217704976198927 0.47456168687727401378 4.4001134473991516671 -0.22940529163251302536 -0.15309903648173109336 -2.2882930843498217044 7.2146994740741012819 1.1884024425311856543 1.1376346166982937991 -1.6960587913429430174 1.4995755968636774735 5.0644687319561532135 2.6017113222397707517 5.0757104924075591157 -0.4677017035776008802 -6.0504324699872409354 0.30273595633793043413 -5.2238979349974963284 -0.76314966258748384575 -0.30140251659630623582 -0.28254634014196061687 -0.48749528933656627316 0.21426235403753807196 1.3431901415418889822 -0.94685742577499609762 1.6743571996129302804 1.7885648801365969796 7.2212085943590835768 1.7647576064121837103 0.68969942117720850483 -3.5616760791625630134 2.2940342702614322512 1.087735728186121742 4.6695647712004859642 0.37160137688416089441 2.7167816678285174881 -3.1563052383064782447 2.565681269956985755 2.536689990492729585 0.32584193777398412495 -0.12320244483887272946 -2.0996710754233416374 -0.74153155208318566327 0.2667769369132061974 -1.2633349379384750666 0.32430373834247094855 -0.59266253606532681708 -2.9538595074856233147 0.30151722250490708976 0.54308896870036349469 -3.9427269614416466936 5.1640232328469126699 0.44701381315661814497 -0.25141890191063576143 5.5562644751214076422 2.752022790171154476 0.039981384561787416954 -0.085130356237237900241 3.093805192366083201 2.39363462925224324 -5.1851648440438475873 -4.1119697765113416565 -0.27004229972117688163 0.55570255938420176633 -0.11556431745779258136 0.00034953365523465490701 0.22845029207027245377 1.1305819504384653218 7.4605105872233634656 0.22285602560505399228 1.0876683232210488939 3.8720151105293436622 -0.74257395969497153043 3.6148823779675094414 0.26940554282926609808 1.3964255683231732164 5.4122091006048727024 3.8048070148149526482 -2.6218048782719503009 -1.9445826506136825174 0.31084117562090229914 2.4156298502350170843 -3.6616994777585656351 -2.5272554365300332613 0.70633030667094709454 1.7845368407675314959 -0.39914787615285579614 -4.8466145109753435705 -2.3642694013290177502 -2.1756395731341111599 0.64419367983845465808 -0.69499556257420136429 0.24162783272877366714 -0.77851555681187656344 0.22632585382312506161 1.7540734859997402229 5.3386948022531601765 -0.0018904633075837540355 -0.18704896758479500063 6.508406109659696348 0.30001334430794140973 4.4590797150284853245 -0.35719140929574472176 -6.9601579316372550466 -3.1250120704331170174 -4.4471443813557920421 -10.214481357118449623 0.12748874832794979128 -1.7148496929728467286 -0.28425872312560490629 5.9052260752390024479 6.1645011419293753718 -4.8482588738912371085 5.6374636090150769263 -6.3688358490014280733 -2.4590570784773357893 1.2644873783847865312 3.882544288573630098 -1.7568422177873912471 -1.2394670103175113862 3.2535254532247108727 0.45402089945968088225 0.37345160894720891287 0.26088123389550021969 2.7283156210424155397 -1.0164460119526210757 3.7873670781970805166 1.5152409661911436789 -0.65469958596799282535 -4.3840009770013645962 -0.83058777546577178263 0.38652691645793735287 -0.71897269948954534158 1.0614791001989301034 -0.090590059905620648473 2.8890276740044389392 1.5184983568606005289];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.533787165877804;0.788527964418997;2.25106301047751];
y1_step1.xoffset = [-1.82517310309568;0.576613863304083;-0.470200245018933];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
