function [Y,Xf,Af] = ANN_60_200n(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 02-May-2020 01:53:40.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx4 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx3 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-166881;627;-105928;629];
x1_step1.gain = [6.4553820133691e-06;0.000655522779416585;8.43401437999452e-06;0.000655737704918033];
x1_step1.ymin = -1;

% Layer 1
b1 = [-6.7789984648916554733;-9.6551223120534270805;-7.0354568693870280782;-9.4309124130019785781;3.6921748254220378982;16.079267993195099251;-4.5355386142847056163;4.8662981757986720766;12.962426430393170662;-1.8247573718988028268;-1.47399945715024705;-9.1101173438590539178;-38.540379830057545973;16.806259116344858029;-9.1590833507124944646;-16.645856651157199479;13.066342091652922264;-5.2539480013223895938;7.3986338551908756855;22.726767761661140099;8.9068473610413843033;10.640684528949249099;11.684465861564611089;-3.7881018047432162277;-20.065797712768308259;-9.0427379549328055219;-7.2474118699509215702;9.1649699803125663777;3.9394932363299353106;-5.3952364581225502604;1.8967999338718659619;-5.1587776078132501212;3.6909165817593767578;-2.7650405027571669514;-11.493690443295905723;6.7196267820917991997;6.7324591775514557312;36.890326881771500211;-2.9778900216713992677;12.63898538201720001;5.545793414935475063;4.0613241071178993735;9.6375178663123595157;-7.5050341763812618012;-1.3005073639727462442;4.5802487741494566365;3.5597049765974642099;-4.8369003457142794034;-8.6802046533515895277;-4.6675531065728161906;11.643514867507049004;-2.0569093032025413947;-2.6750466929616942835;9.4051691074760341849;-5.2121681030640907295;3.8162216186832171871;11.567820211502283456;3.663665885576411263;4.6293255593724689234;-15.543378085974339342;5.0932015548164857321;-1.2250346046457274429;4.8000448228485659286;0.66661256123873169344;-2.6069612286293963876;9.4462996181099487814;-1.5826639483266706776;-4.8327220099267318432;1.9906932517886237743;3.8131504267829541277;2.6295205181103136205;-3.4132665799696186859;1.04075609159973137;2.5853388611782266437;10.908671054999912187;-6.8426723135413523025;6.8075979288136174716;-2.2620614361318840402;-2.7627383392800406448;4.9766974047761314282;2.821746020938134869;-0.54934066090944844163;2.2829793359772327932;-2.2803166741110607596;2.7280597701320998816;-0.4102384553413954138;0.14784295359908047884;0.1085388893323957632;3.4331654108370521783;-0.020032608484464670129;1.7129017028423878521;-0.71950937633327693987;0.04232212819885597388;-3.6738021354251935158;-1.0558297140108396928;-1.1062545180288232416;0.016222910138725715051;2.8080039227000144209;-0.35469577859482742666;1.06450555719095874;-2.0005391392084765911;0.19331443638351133996;1.0575289244317116477;-0.18217745147659414329;0.2298949892085739577;2.5991297945587996665;-0.53496539293907174883;4.6101079570508396444;1.9321455122995871978;0.19483829121607434964;0.6426476290967548799;1.3656281919583226347;-3.900979145973237916;2.8818166892453538352;11.85049220726974184;-0.95822274094443660175;2.1682652060558194052;-1.9738993353072322723;-12.521601314273290484;4.1126885110184270289;5.2211794318242708002;-1.751234672796321501;2.2904888788181074766;-3.5376041893308642905;1.12323012377888376;-2.1817924378623567705;-5.1735242463337076657;-2.1800554022267037979;2.2302282147065648488;-13.131759803241843443;-13.217430130922259934;4.0887238158390966092;-5.2604772663406276223;-5.9832032526074003798;-2.3665748494013825187;2.7712074518602829443;5.6313396317724979667;-3.5996180672676554302;13.616246529664627118;-4.7346066640764892242;-4.312292778666876103;3.7329074059959896914;2.1782462933856803211;5.1273025980349169473;21.890478617551881513;-20.252001683065731896;3.2060242055747250056;-7.9206520310558161668;-7.510233921363549392;0.39935520228121501596;14.475448406166844251;3.6290768614469008924;-8.0661944957995999061;13.322020860459296898;-11.64636308383151686;6.9038027036468170294;-3.7299053954493595064;-5.3299754217689638836;6.7080827522896306903;-5.7474557605536897853;-7.0560147144742826342;7.4254467683598699423;-4.1422914258323286774;25.947951099921386486;-19.484675525216413661;5.2180634214063381648;-9.6443537043041960288;-20.144166752660009223;-5.7060094271252781439;19.537547682905973545;8.792263157810920049;-2.416124833697744112;3.9251700852214215232;5.9438696495439460321;24.52913414386663149;5.1418650604402316162;6.008768338476428994;6.2488501606083248774;-6.7372301769355233958;5.8821961222767100708;5.5006703715022524648;5.2926097842064505627;8.6446140491114071835;-8.4516133179503611927;6.1877963117354743972;-1.4516245534927403327;-2.1115213646872788011;-12.531405863744547347;-9.4179954120337647794;4.5468772708128266657;-5.1905009108059951828;25.130473722799582248;-4.3328013125780682202;-11.853064975456089059;-5.1950170396679293816;-4.4324108991900130761;6.5389198266281756133;9.733555113797201841;3.6583947565589700623;-7.1656778016190241232];
IW1_1 = [5.120748020159849645 -4.0329245141839029642 1.4434564752098355545 -2.4787547332265313926;-0.90787716467882806359 6.3175917950598030615 0.00810247399122368539 5.7541568579829753816;2.8300204619581883492 -3.6934547086539613048 -0.69697334128753762883 -2.6888917921622477181;10.344707636998560218 -1.3359411475342486408 -0.79804510373758763553 0.16548203136475181374;-1.7538238108357895317 -0.9554918639017603299 5.0276902410836905588 -0.15349809385700061148;-20.470735135554804174 7.6817592577662541231 -4.6768274884827949478 -3.5299504921139570612;2.6433184353291467872 1.2961005179590914249 -6.4035557314248654492 0.31561548497195762719;-4.9739873787776165415 -1.1002131712024609822 -0.055700802663104162504 -1.0316903066767901809;1.0800650354825875876 -4.742578498027270939 5.514063149853271284 -8.8735735039315706274;1.7401920516242856962 -2.004719973445922232 -2.3138049813059424764 -0.61784254574457331266;0.71256463534418312822 -1.6034428954339603468 -2.2817628094556612339 -0.34328495667464620222;5.9417692224588227745 4.1626643933738449732 4.1579342721830707674 3.2062349032746881861;-0.22686330542935265187 19.844267518574763898 -16.539993330227282797 27.139978293554854361;-21.363726855591139042 8.061655033807230808 -4.7965863527189451787 -3.743560330205873754;6.3923421769714661167 6.3595632492271079172 14.145880518166713102 2.0371629260639383396;13.452038999476490844 7.1611227185514563232 -17.931746127141273917 1.7239316274443967636;-3.8522239559591002767 -10.103743057754984491 -13.653669501998596303 -5.4201833508842023335;5.0337147043671182089 -3.5327150832087177434 -2.9535400159195170922 -0.024933800535908153678;-9.0249181964945002221 0.17187416857294210426 0.87039442038687142578 -0.39937975645798290403;1.5847600193789619372 -12.418119666288514935 -3.3824044244908719747 -13.306946331119279492;-11.069784456202649281 2.2076556313377824203 -2.3541281832112201933 -3.2646620331751310395;-10.517299440933154386 -2.3969735715545352761 0.64380089504508597464 -2.71064831567408282;-15.609348936013136111 13.048489825806123932 2.3088607945687869005 -0.83751334615396588745;5.0411205411574684376 0.70562323307581653609 -2.1883980995680989423 4.4165208219762588371;16.568175939245509909 11.018750354925900936 -1.2073893804135740204 8.9186828074814510359;11.308310591714850091 -2.1716369080616013676 2.4066018998070841661 3.3490061701858220289;2.3248830886597176004 5.8542104098495277853 3.5297899533094194702 6.2388619051107792046;-2.9438579513927471965 2.2078460002231912185 -8.7244837839229596455 1.6057624774091516784;-1.0789206426546220641 0.55034562344025295122 -3.4822367184862383915 0.41027174591407977733;5.6992064433618230268 -3.4730591976562221745 -2.8137434039533602004 -0.002290105303263158254;0.22614457158205977794 0.016565082950716084054 -6.3302376907971327213 -0.49610480230524200973;3.1027712575026535902 3.1815949741559008679 -0.028414345191025071335 5.7492618922107698864;3.7343267344980786149 -4.9398251938460049359 -3.8319272333524394547 6.2948182537526689018;-0.27828576932378235043 -2.6640613001625355061 0.7728465378324349544 -1.8298759960539621172;15.571992093848015415 -12.863742683123303934 -2.5438325188662505028 0.86337718667180129994;-0.47520129478494882447 -1.1070019837157942799 10.950760610840001519 -3.549303836262338141;-2.0205352406667604903 3.6575021272057419708 0.37899126011598394115 2.9496234994711563182;-44.944341538894249766 -13.994922427561411027 -3.8140181586086323584 -33.646911413699292837;-0.71369908303831008922 -2.9287690932751240247 6.8597064963921647873 -5.3535288267395291228;-10.812512444862242944 -3.6310892387974216255 0.74356349335262383882 -4.0526364833974364288;-4.0846290972458456636 3.3696028548238006195 -1.2338502566193161325 2.0472681411854067868;-2.5048824861974781086 -2.5827184102893014916 -0.0058828727611421110719 -4.7092888958488909878;-8.5815391609588296262 -2.8468144326090314422 -10.402050951241127663 -3.4805801886174352333;-4.0682227787808216135 11.290318850229946079 3.4629257997279627723 6.5902016105115182043;1.2815778345179527076 -0.70774150530288260086 1.8335164655206965811 -0.99243863606510607234;-3.1790697806745953358 -1.9407783371714635301 -0.066109316440470786147 -2.9664858646296266009;-4.3674523363572124168 -1.1513576126314142289 -2.8261157300544619275 -1.0078991850744976055;-0.56252497338089724188 -2.5692910605756131837 -0.53101431828052303441 -2.3841068730658561137;7.5208043426421289368 -9.9486363149955732155 -0.78410113204543330223 -11.939602506021975259;4.9848544709521744878 3.0232679150032222282 -0.4434263678753303517 6.9262218663090733273;-15.989519153015551822 13.060507296329367577 2.8521787866455419191 -0.92297007659982455152;1.2309048185892152993 -2.5265803899756469342 3.7072827131218617502 -3.4671180030267856331;7.9030318198972997479 -5.8477114970431713914 1.0939989634946873931 -2.7540265953574691871;-1.9593426151754826936 12.503666689118139388 17.109425020741976908 14.989528832048929274;0.12325579431679954678 -3.4127756884448845476 -4.4318789187771114868 -5.5606471558545846889;-4.5337241354350377165 -1.321125703285352504 -3.1221708135506842652 -1.3395938070028567957;-16.280839082184730415 3.3081312301750132043 18.478634840984629051 -4.963314620273098221;-3.2378017418868423327 -2.8314752773336087088 -5.6889328405769949981 -2.0330155026876153279;-5.3914098895341089346 -4.6714599655933763955 9.5082728578795538965 -6.3960277538241028239;22.707053159688623367 -7.2142039787346146085 4.8677374391040029167 7.3443838815346129678;-7.4113991983351175108 -12.011089174883341713 14.384979831257583172 -6.5704952535428411409;2.548997886441668026 -2.237034379064538836 -0.9503707002758371436 -0.96269755962474357069;-3.3429320749968609583 6.5789808687731294867 10.437643995296500776 -1.8460826210800715952;-1.5087893795166129607 2.388747686069537135 2.4702377383929139398 1.2321040079170850756;13.113705960783955007 -10.833567466380017663 -1.4227198275949028972 -8.9976878848724783921;-8.3809973177611354345 -5.2392598545497728324 -12.695143089001691195 -8.4726815120805536452;10.728070937866677426 -1.2940055972149535624 -0.911899944205361912 3.7004378027764861514;5.285638099286883218 4.3759891824671370841 -9.7888272341878028726 7.0865993293283482402;-7.8290837520018854434 2.0967521174650096683 -0.48549336120049396692 0.3724109401497554539;-16.348367803661531639 2.5235921438448905008 -6.9919848915234483755 -3.2622081231788642164;-3.4544146269913897918 7.5656355702997677426 -0.98134535859808191827 5.4971659987947179005;5.9287302678366842201 -5.8091498245265711375 -4.4247759459792925796 -3.2563654800404662204;-2.377577299995253135 -4.415441693082123642 -0.39008178609551952265 -5.652858336335282452;-7.8109211272321177333 5.664293312299487404 -1.1490733426420560725 2.7007896114433713741;-23.188686138678122006 -11.269121873244161591 1.807313487951391906 -18.300357770878310504;47.285906792670438392 -10.702524750767430817 1.4766843142164918223 12.318994202338409139;-47.35485309486735872 10.50711546988344125 -1.4178499661786656549 -12.132704337875024336;4.9276181494256530158 1.0811719207514760566 5.612175524121817638 -3.4271958404325482128;7.6822611264598119618 11.944089778819378722 -0.23511874430551582549 11.810055873808913418;5.1289323468840546383 3.2823342649711015895 -17.707042570245100421 5.3652200740689792724;0.084145447347017343631 0.81385049845062484852 -19.934868994723849767 -4.1175927909723313292;6.8203087279053473679 7.9228050595812105072 0.76415109568031136522 11.488811825208738782;0.19184679625830744487 -8.4022393132601820298 -10.288934050172311885 -2.9602975475073107781;7.1794411169051688404 -5.1924883780938317912 -8.3056279905080732107 -5.2568959690079744007;-7.6059263109921975143 -3.1005731467995030215 0.97794750275690400798 -7.4632069905118214592;12.347667333635460096 -9.9983390772737248398 -14.435507600918896287 2.9410618603513860592;-15.4152017524455065 3.8907755131101389168 -14.396825904683023367 -2.0347440479017526727;-3.2497432803034187465 0.76156102289701466113 -0.26825228746045615136 0.15890810833049903716;-8.9247132574527903159 4.6976360768017260128 20.207184253167227439 0.33417879427364832745;-23.224844328751213851 -13.252386752766298628 1.9284320642394661149 -24.39287883390041145;-11.434237885563701909 6.6568858305479299275 0.057975441689143925039 2.1859632428085866707;3.969663648673678491 1.7095662995994942435 -4.1643894553973277439 -1.1902151563233107634;1.6621545620230511187 1.3756477754943694514 2.2647361388715756547 -0.029309009548829222103;9.6470456566090252437 -5.5512789122079944093 -22.06104799337359168 0.080813560670358289273;2.8378133425130718237 0.49352651316625628652 1.0168091265544734192 1.0032354467679001075;-5.2636429626676903837 5.9532235916320477287 -10.123674260799207403 7.3513310825584472497;1.568662902025832917 -2.4944908796727927047 -0.37586800153140398351 -1.384068904702040248;-7.8818576883875879346 -3.1225302698682315672 1.0049312779585621858 -7.6530533283291957147;-1.102605318909732901 2.019568624846138416 -3.0053562528514103924 2.7352867478833133852;6.9002040643161155486 -0.73172776583017051788 9.0606311088588284974 -1.8290416441606431874;-5.06001717281814134 7.6143094205561867582 0.48863400609181900647 4.0550186439966484642;-7.1378705049835184937 1.7966485074484059847 -0.11338100872271009156 0.50907136461187696419;2.1539363993413673803 -4.6281314480668420686 6.4854480772438058978 -6.7254586141252925557;-3.767395173884140025 0.51086282765335033762 -0.75418493950572074169 0.13561126730407344065;-2.7553196273183164777 6.124283191917467839 0.67035819142666563941 4.1271583074706779115;6.3232146373829953845 10.02836540976189994 -13.23188081090862589 11.256298766413824097;3.2018891946701653062 -1.4149008513815031218 0.006782687172176723317 -0.62320417633814684244;5.7999655954716233808 -2.5582583200033779391 0.13455520854482308502 -1.7157226647184713464;1.4819731150279329412 -4.1167695245845621344 14.901000760586672556 -8.4610813313797734736;4.6534629280549753005 3.7280979243241576526 -20.182304820463901507 0.012083384172923331001;-3.2724732060007695189 -2.3061110770408124182 3.3179356957960197683 1.8875451579126105717;-1.0302902427321263268 7.3370040774920051163 5.8867092478688185508 9.540172674150529275;-6.1366796965554932797 -4.1896273996119983707 -2.4359307934522198558 -4.6617862135675540713;7.2190494945323999687 -6.7399064189162007921 -20.89756814521367545 -5.9519273212231595949;17.067533596362984838 -10.645468662146081229 -1.9083567255401592266 -4.6811209685552785942;-4.337843682177417115 4.7496958569078371326 -8.2961634144029812177 6.1718150137651415221;6.8616134021153074585 9.905163771232240677 0.067853336781169254488 17.153295641930490945;-6.7175596351768591674 1.1287614828661818311 0.57859202480887383935 -0.4046564715084655095;-6.2559831406067223369 8.7397952169676216272 -9.3239252511487205055 8.9493371744734275808;14.060179302072091545 1.2154096673452607913 -0.9026558667094710664 4.0190123498407190894;8.2750497400013944826 -5.8697452982619653383 16.637800442022943059 -1.3680922409499711723;8.5580516753852791112 3.7611740954556278638 0.23302061624199749135 1.944837888460862807;7.4123970699326191536 10.535426160739456591 0.060919785140544767399 17.975010296325976356;-6.9216515369727833473 6.6785836334485129129 0.48876694186433533584 3.5577817747200164433;3.3361374059694046679 -2.2553483067944477547 -2.9201728258387755766 2.4976130188704765978;-0.26288608920255696066 8.4532357964586708476 10.306057118963497743 2.6306299637679479986;-8.082396315451040536 -5.0035473253765943014 -3.2172907238348229519 -6.7867664608549453931;-7.3626102702901414787 1.2724657498810183487 0.65160129841746905477 -0.40938950048636468804;-1.493443851422316726 1.2902291798925986654 -3.1172683182814124869 2.0771014646780106006;-21.898118139905939472 -9.9701502643396775483 -0.49574225798586407654 -23.275788707245091302;-21.571411677321368217 -9.9991645567406131079 -0.33662612863609520097 -23.599685512825484324;0.04865055517162350518 2.9875768809903906487 3.571235109938277752 4.1307286164584242627;-7.3228757094559222551 8.0658299674917390831 9.1613546632976916584 -4.9767776914813648403;-9.1059466295314983597 -4.3349589603443199337 0.34788797223375944601 -8.0119828926612832731;-0.61436902441757490489 -2.2835270390698667597 5.5508394056025052166 -4.4309959384350081635;2.0818226849526024758 2.409060654460450035 5.3944876766918614663 -1.8070073943681881357;7.9639735417505992388 7.1909624628810790981 -0.11349702146856545382 11.569143252998228988;-5.3116589486632879158 -5.2108231306576549002 -2.1710724284530602546 -5.7588299055974383478;8.2357387626610663034 -11.393500651751686803 9.3094990707181732859 -8.5832980515455226111;-6.9865467851153377765 -0.26481828530351031459 0.91652038202863717054 -5.168530729765071996;-8.600086187232221846 8.338540952249742233 0.62956917732601902493 4.361386217045588154;5.35492500886703926 -2.1039783707218933095 3.339172128786470406 3.6048315429695390044;1.4407997146467648175 1.8259747436725406455 -4.5848810351621729353 4.3373338350326218205;6.7337834185064480153 6.18681751085172138 -0.22497603221954290409 10.091116321165717551;2.478918679784754886 -21.983817244519844536 31.446302390150687955 -11.214754063876842594;-20.469512148734914092 14.39583803433496989 -0.73773407259483847476 14.600193544387545685;0.51769818973373249449 1.4851400475563425463 0.45522257674567379038 1.3391645922686941095;-4.7029963207301594963 12.251165228280573416 3.4606600933581681545 6.831908230826784667;-16.271211856063217738 -9.9273738021754471816 -14.746824982692919193 3.4945964137377631964;2.0232613647031771897 1.802325538041152253 3.1935600062369879915 0.19007313674573980689;23.171695512768629044 11.128811403470706409 0.34326765679325405012 25.590653245495175838;3.8127839534029446256 2.8145073748250966084 7.9472950908673158921 -2.4528314078809572152;3.3248632781881166665 1.5863668420700485218 -9.1103005805129466665 1.0979005781126329744;9.4411663728403301121 -9.975772990759800507 5.1813773374361824509 -6.4464072033919563864;-11.350838556739049068 11.118038931825974913 4.1323130716306577526 8.0307343880483674781;10.665385640099174225 5.6834739450396325466 4.1761085346746602553 10.0534184432893543;1.423708262808251801 -2.655177485739379506 0.61083785445442406736 -1.6715033117815416563;-5.0507945868515209398 -2.8528337500557818807 -6.2831890846082147917 -2.3737423323441704248;-1.7167301022402339239 2.8348828357134729927 6.2408421997978491547 0.2665294928852817713;-9.3889496982536062575 -3.1906024178259104751 -5.9973842938822556903 -2.2492289771963838163;-1.3308568721052518313 -4.1674588116690740591 -18.463969649082166313 -6.6801531774300473288;1.5416476927918134621 -5.8545243364166790201 0.11745223120024107788 -6.1818555032033994934;-4.3234220514285617298 -2.8066716152410289276 -8.9075053029689783557 2.2942390138782413622;30.824364675316523687 -10.474828044398536875 -2.0506726557908234732 -25.020795183869800837;-25.704524048981948425 10.475244187014915553 5.3929359762434057046 -2.1456345983328599658;7.4536767746902583553 0.72859084742643809296 -1.0550743617106486116 5.3894504719393117043;-0.91864321815049521103 3.8450873546970933958 -5.2760012585545377206 5.9557507143539947236;-1.5726922947047297097 11.28076715929923779 3.2037167720093386869 11.633759581092110835;-5.1227499367275539655 12.105811279966374627 0.19944672654908479625 -8.6137005420708359082;25.785664380676077911 -10.488410255709680996 -5.3619181937687399042 2.2733160198888970882;9.3861623473053317213 3.5345462873126405334 -0.75209181098965383061 5.0335363396317260865;-1.2572834801590426768 2.4765242807270482217 -7.1884379176046540039 2.2528242669903457696;3.9860260273603174141 -2.2454908562717816878 -1.2367898888745640917 1.8983306632619110221;-0.63763298103892307456 -7.1361110149859801055 -16.229672851909480613 -1.7256423558212981018;19.558879315290095491 -15.265549727549933223 -5.4452192075640502011 -3.7977755244054476336;6.054396924152050552 -2.2370633458265296589 -0.54848814910776877429 3.8345929764554846919;-1.6411687801141809917 -4.0670694151739708033 -11.419809498000873305 -6.3876519913090366032;5.9370176131221805704 2.3027497214698415817 -0.040819226235861830188 4.5564319789902212321;-9.0156975419140898964 2.8664171988562920923 0.56446641405980979567 -5.4516527362458706563;5.5540106479813742268 2.0589364947122588134 -0.015201785894418905903 4.4207273108323450472;5.0415722876598261237 -0.30302886810987494925 0.15674702771768483922 3.0148554267672427187;6.6218477110313509471 3.8665997653716428495 -0.20980035370778038484 6.8240342627319261481;9.0410119407248430434 -10.693340867535805927 0.35077410868240310737 9.6180525532210587869;-6.8096293747279466047 -0.49918256513390479867 16.63797486933645331 -1.7080084639548274161;7.3746857214592509422 4.615204697385426158 -0.13626498284909405179 7.6902820785394228054;-0.59558815533335518477 0.18119401688945957485 1.6799618978659842661 -1.1230212218150996684;-0.37038391839962864216 0.15800202770788504547 7.1504928338037112567 0.6402472722693720586;-4.8422583213734506913 -8.613677954803984349 -0.36868497440868414072 -8.3849776773481572434;-1.5450456921888016115 6.1904287183378974291 0.15878072153836866875 5.7027342410740962109;3.4923599941018115267 -0.37493574029649839874 4.2495635227641743725 -1.4593216327286064882;-4.7024969690530289412 -0.61372977803526751472 -0.62601086766395441785 3.5067673442271485307;20.375089692117597906 -15.535061445356037169 -5.7444068443733229401 -3.67603815903909803;-3.420898621977765508 0.14906505864098426595 -3.7975486555994040216 1.585919906720264283;-6.2790414059455352813 4.2547802409098309795 6.6061761232206519523 4.3560278428205219114;-1.1708395579483255045 -1.3969837938465281546 -3.0044900145828328242 -1.9243845343641556855;-1.9473257749910375392 -0.39535301341986806012 1.3871094236821321921 -1.1937932900137167014;6.794576479409514036 -1.3759869520270480159 -0.169480982187957957 3.9018790096126325651;1.8086814050614210547 -6.4108902039910153903 -0.2059819454386565829 -5.9017474990798701739;5.0231798867813841625 -1.4385429376411154045 2.8824952133238421759 3.2581265711032361132;-1.6491117983408694059 -4.4242030022002687417 -3.3990068781945308451 -4.0432263670869037497];

% Layer 2
b2 = [-0.62759169329198605247;0.74566620724981247381;3.4969937535145576568];
LW2_1 = [-0.81030461053588154208 1.7224060853998877096 0.2451795425068593326 -0.24658555323197467457 0.023564701042858994529 1.2172786449205936776 0.013279845392465074519 0.51579309337823753268 -0.032751580070657711208 0.22063004537708463815 -0.22544420270659204508 -0.10680539135353391 -0.0075663046050627900604 -1.152922751775607324 -0.014121457218580884749 -0.004123455156793808668 -0.019649739215757574401 0.28272347994929025727 -0.30215876197337410147 0.026451436737998462734 -1.1938950543581696717 -0.53566975542322425863 -2.4259055053410807368 -0.061015737289305697899 -0.20096193448161314699 -1.1553362291031297193 0.0023665941986574989472 0.02871208257119652052 -0.068412837217785141264 -0.33405903180876928005 0.023112125124208755117 1.0521886123716819306 -0.03071484837858858355 0.26546609983289942702 -4.8475382814469485382 0.0079861401505395297057 0.32287444137794762966 0.085322713296196200927 -0.05934924727480028056 0.4429678131381579731 -1.1097020830137971359 1.3451586327375417707 -0.02132706245101135753 -0.15045887945950042752 -0.11614033453547828456 -0.20413017314566025973 -0.5979039884640874325 1.2741853039010628823 0.01727632914518349716 0.18119524096648464973 -2.3369461246782283759 -0.022441736204253704551 1.577657722482766367 -0.0038176069773124738684 -0.049932356563790601667 0.55241956542498282801 -0.0063408892861804471222 -0.021075587502204954499 0.035273593166111338881 0.05029827914656790494 -0.0022553698064705805446 -0.23393662296419881486 -0.011871845354926451738 -0.089533913525549443935 0.070887839321887052835 0.0029528404213801304201 0.029386084353038244288 0.037091998675126476581 0.097995782447530516146 -0.021119102739511813605 -0.13231140601965285519 0.028059628584991905265 0.10001500297663051819 1.5720014886576594293 0.083365548237534697895 -1.6777041978405060618 -1.5902503623174157887 0.0073396627643281349071 0.020475300906789416222 0.0017976375265965028813 -0.0082733518498484034248 0.029025977953486516853 -0.060461390110144390408 0.006315150027095213503 -1.4344556506969203813 0.0028498468632865386722 0.011101334907762015758 -0.90829736509261138622 0.01186502256077808827 0.10756433045069513366 -0.064549455308136646781 0.015947538175598442722 0.04898169598810108577 0.010911189289585541268 -0.25324675435179566652 0.0049506561487432784383 -0.98973644677193084451 1.3745422649704324147 0.020158726230561904713 -0.0016409294489293387541 -0.17640706051424934198 0.2398158857677573641 0.0032347244518726634387 0.19418335110316459202 -0.32819761695424942705 0.0036307264444942798434 -0.11582193001805717036 0.061631508618781291609 0.0037624071803749161227 -0.0015399583943856197735 0.027053487503164573569 0.015154579697766991375 0.031844337092898293562 0.00082128345352675523067 0.013316768259404102026 -0.0085451294666803612882 0.1015069920429886724 3.1400188322412128095 -0.016128815687367490522 0.042293527300616785836 0.0016744164944494273339 0.032066991326605079338 -0.086338963512774438702 -0.61127387028495117072 -0.0026643408799280369689 -0.063931069097526008194 -0.02181393321164710325 -2.7966429890440416273 -0.020124887328501178674 0.0076327521299255568846 -0.029556128975927058872 -0.097346657997094354631 -0.0068121335106886490851 -0.047364758415604196751 0.071806064627939439338 -0.040447239032251031121 0.15474331631671509046 0.035480131621118425611 -0.0083571207124482245476 -0.082941206333669192929 0.6419483228436133615 0.030789241066656352491 0.0082101662378097715195 -0.12890056077668762824 -0.0024934393892933133692 -0.010856584021270291804 2.3777272390225068222 0.16501631704760552632 0.0019432701190435254512 -0.018871204218179074563 -0.008382293405000644862 -0.0073248546007542922331 -0.025756534136303351618 -0.019570493036405477161 -0.005445708480453485649 0.015837036546942843962 -0.3566758584324767889 -0.013701360354809731176 0.03826249380278854556 -0.011519941235857880657 0.0020835602429510758499 -0.10972635638379046874 -0.010201993997618232293 -0.13417533744107920657 0.94785072713301210534 -0.11540889013303669286 -0.04888463553751806745 -0.028728041490247758355 0.028683616246569378083 0.88843770349741990611 0.088692899651769172009 0.0024063560359244701159 0.17718944226587093893 0.00037046925360287210737 1.0084296108881165566 -0.069455209511939342004 0.010360797308604046546 -1.5943268001512340692 -0.0057162735421696737534 1.6187343454729865577 -0.026702315132681769122 -0.54844180400034925338 0.0037756533491115108758 -0.0021252869917210907673 0.41287618897713529442 -0.20788367068790658543 0.043621168929174648776 0.035447761753640748272 -6.883928216412333434 -0.62608786247506553746 0.12189731262670880363 -0.97739812525813707378 -0.79213484666059819084 -0.036358754969964865444 0.20081694078575582085 1.0613324240223793726 0.12746853930206974992 -5.2492079644560005747 -0.063589695830554862632 0.051367847650841493012;-1.3918922407185503332 -0.95454428554841264098 -0.29633541453870632099 -0.075508583541617879664 0.058067907551027517221 2.5197235806495275057 0.0087777946944867634577 -0.082804597862909265493 -0.0066848054277283816202 -0.024553937379255996037 0.0253879602710235866 -0.10728701634201598392 -0.0012452062728915420497 -2.40319201344363087 0.0088977575751241870516 0.0034927564427908596063 -0.0089199433918562536644 0.17954329417680317538 -0.10454461151979214939 -0.4013402172512764432 -1.7518393917440939767 -0.055919669463623047911 -3.544765518421964412 -0.0010446601268046997596 -0.026246015180788187515 -1.7136784355636764943 0.0094350198610820348866 0.02973066442061687159 0.028120507175500769614 -0.23254704171839310489 -0.10489922017122815801 -0.83062701270045402602 -0.025520136998657468042 0.25130032858494472103 -7.0838008486647670026 -0.020172586941364291369 -0.28015369470182532874 0.06860281561392017613 0.051243651788499253175 0.07556883194473291987 -1.8589485055824070958 -1.1495439232118600525 -0.0037588420312649785393 0.32504233083876044041 -0.28583963145414603702 0.22406098784165354165 -0.55738465796312841594 0.089700312899930675914 -0.067936509223148366932 -0.13156843005485288622 -3.4622139807544551893 0.026505700859876100972 3.0584636415123549469 0.0040138633992970766326 -0.16383515601340414847 0.57511570717751403503 -0.0029938976441158081376 -0.039509361708658811974 0.072607845411726629203 0.070421253294444777215 -0.0010420467334497354392 -0.27779875394666936339 0.0087693800611775649806 -0.12422775047211438715 0.016130673579882917612 0.002899698830038291604 -0.11285673322832347198 0.065206563757946950366 0.19548324278125644993 0.0028148803081003035895 -0.096774365244538584907 0.058732705415947591976 -0.19627013721099495491 3.0345687634935134547 -0.043376978819292519307 -0.089023704130225395081 -0.093993815849722411881 0.030431988619737018742 -0.07868154560378914919 0.0041931226800776214697 0.0021336161758523921814 0.031412531936562848589 -0.0087467769316800173668 -0.022616852881472148534 1.838235182906528431 -0.0037165512350958726864 -0.0035327059262871846751 -1.9416448815602997957 0.026336293427761541669 -0.11866199955071533856 -0.12242728490816971731 0.088525699329283766281 0.16908152369757381561 0.024459526873582802114 -0.29218272905374120807 -0.0053101405474855018982 -0.67441485058509353934 -1.7737777567404879875 -0.033296871051954390897 -0.011341060342426004248 -0.15092692167555468719 0.44297172534610984584 -0.0083402380129943415321 0.43982893519244609104 -0.20173513210419416475 -0.0061049612177763324522 -0.4543620134218350759 0.079106494708560584628 -0.0081476259753960993126 0.003911754835731511698 0.08214203340189596414 0.0077093045634925609286 -0.2213851315164465372 -0.0069450447658527527869 -0.069503590361637460071 0.010548753924907996668 0.18199127994365063565 -0.34053906527044952579 -0.012201175994984873874 -0.046404217813696559125 0.00061269756655319947483 0.016857041797534538102 -0.22500884495500939053 -0.36390637133332931485 0.034890233574377281511 -0.025891042476703221564 0.28185427366991394615 0.41769960020936169887 -0.039237699370442559454 0.30087273848049039815 -0.61510412226502853006 -0.24260690996679237785 -0.013651658189743383007 -0.065859307867538532943 -0.12574234222454630516 -0.04015140147066893761 -0.5033220881628710508 0.003595320183380612284 -0.0029269517470223707298 -0.0097725286850878154143 0.42900402416935978778 0.02298771392385401055 -0.068575367431769229665 0.70802504288114209707 -0.00152144372899660975 0.022631704337401591792 0.31237198716469316562 -0.26523761326491446244 0.003397659138094513611 -0.093822544271525504245 -0.35442291995044677977 0.13120250614475936768 -0.021731326612269244447 -0.0092463022578168421739 0.024359219628272584662 0.12193591268552554652 -0.54546641701471854091 -0.02614067279772200672 0.055317999971252175551 -0.0039068014871434172952 -0.010311782058654754904 -0.11194501226449711517 0.11033738585210930983 0.1484535423412341737 -0.73315771164682297378 0.029264754396136766212 -0.0090276629378049366714 -0.38394979893370317914 0.030999329761231930735 -0.66553320210173239069 0.0079613267904796985314 0.01061318174406227291 0.27162014292658620551 0.0037475900502825566264 -0.42410776669379718351 -0.037322224892517137651 0.011536724730931448984 -0.47264818711792594419 0.039764276250199626084 0.47658111428177973856 0.24650264136385419134 0.004727482855681145596 -0.033990289663260515873 -0.0094039118623614886827 -0.083278003018080304365 -0.0043965757434436883444 -0.079355696665606087481 -0.23768864060823113871 4.6797857911964495514 -0.82791771060031904561 0.16631893755446922056 0.42373714013121144273 -1.0424495269981617351 -0.11621035840049104282 0.17037211635211846339 2.0161633458911638606 -0.086820691679243208738 3.6424815351023358545 -0.025878681016237276014 0.048336072921258931012;-1.083482101580322432 -2.0889335885384259228 3.4250192023033791955 -0.1476612618589665249 4.2961023473468999967 -1.2181420957785411563 3.6680941451910200612 2.4073171219022633238 -3.3670498677313953628 3.8003891744878233183 -6.5647873368961819907 -0.38355805056583852641 0.4057743607421892551 1.1516910984374673088 -0.58276993504699758919 -0.16736338763804431418 -0.27326455408060967844 2.2419872914163798683 -0.90386377909995796465 3.7609062358589797626 1.4481384737720122136 -0.84004900750234900997 0.051175196046097812252 -0.68047062703452299015 -0.21806639185670509407 1.1639365564473393988 -0.63552973127458711744 -0.75539718934085497981 -3.1415207335667409971 -2.0066670751343838042 -4.0087088056387090163 1.6687951032094290316 -0.79029823495538897848 1.6668146136835908511 -0.074919068175488934269 0.87525911840021242138 3.9842331115106111028 0.018567866088835777855 -3.43846110413182382 0.098471503832951071122 -1.6841505572423149939 1.5258733793971230863 -0.4584025850668611568 3.7766806568845465719 7.8709593660272192395 -0.68224219810108321926 3.2345750349724546879 2.3475426297095256523 0.24614576196867277158 0.33071050765370135771 -0.066098641291339785275 -1.7209130556443645865 -2.0416636247821302597 -0.15471673262225560386 -2.702391994045688417 -3.6756011763808222881 -0.14685194019432401547 1.7280074406918894958 2.6607718671225000229 -0.062203670926800770646 -0.2579582293574869678 -2.5674949904333232986 -0.21738441323999038723 1.0626849710484829181 0.067874672905008481827 -0.29415527549750031255 0.034914820602852510156 2.6110756149567126982 -0.2464062746343148036 -0.10721391135975344433 -0.54991138136504391642 0.54876584534361638745 -1.3908012715597797282 -1.9969579832345087933 0.1326652670049878191 -1.6873690400232195241 -1.6614946841801088162 0.067152700633374570738 -0.58292454688458827938 -0.13329725364834529855 0.28181365350533571501 -0.42204819623943551354 3.0407069677784641648 0.44379675864051909562 1.491666510764487974 0.17716337227984715885 0.12348455280157284719 2.7295783332423884104 -2.7347338106616341236 0.05165482570547717811 0.11729002200712060344 -2.071265368130483786 -5.9197436691979721246 -2.4750006320769539769 1.178719684164985626 2.480681823869280489 0.99007763305338780668 -1.4880525494624514682 5.3218078366928729395 0.26757032816533499187 -0.077586681560210993269 0.073952471008235445837 1.3473919035851191772 -2.6624966131823706306 -0.61232010951179660641 0.30656115244795351105 0.76335522227464691625 1.8372717024003195618 0.37675039199721360728 -0.16418865541232033345 -2.2756500322986048523 -0.36952427078024613349 5.1816943986192685045 0.19045999029905982813 -0.011377765210492968295 -3.36676693430684848 3.146240512501500497 -0.66197487813509492405 -1.0300573686788891958 -0.0067532429880578113621 -0.16185130052223090091 -0.22521111426534756728 -3.0195257036461549127 -2.0006092129604517993 -1.2549425668651368326 3.251830850613659063 -7.7456195154522875512 0.45948388670728085303 3.962260158809335131 -5.6699937001675451143 12.053668730905039652 -4.6029801005156523175 0.21873626974287715963 2.167065376855687564 5.7153397439516266942 0.59865628860823294488 2.2507620387659090788 -0.22164411242581036343 -0.77299128747775436299 -4.6344200023729831273 1.4058896833681895355 3.1454347716425949955 1.4949682281342677737 -2.7289041817910284493 -0.16856801176577282386 0.43196082728471085765 -4.9322754179866397095 -3.1235933100171733301 0.12076367787336768356 2.9090917383219974113 6.8214919760777812385 -4.1791401029234895859 1.9103241517046039011 -0.51676874719142118497 -0.42996533890241905862 -3.0566452061439011167 -4.7707492636503276984 -0.31130171128506950451 0.90130716842004687805 0.29623773859639440653 0.33188345378430095245 -0.79321387204304483198 -3.3270378582403314915 0.55098352804539452165 2.2080222060362379999 -4.4547809762951917634 -4.2876997148985545039 3.9839534821651083618 -0.6545045415054787652 2.0875150167955425218 -0.53658994432908446726 -0.45429183835704317618 -5.5508514041489469548 -0.16535911878619680149 2.4430442868118986688 6.3329419565267537351 -0.5156187861670152861 0.76205119134864429675 1.5882753080914433497 0.61360858219719505158 12.335545732914317441 1.1519369792673608277 1.3316971988875367927 0.24554223431916322173 1.5452810103081537907 -4.4374085433907417553 -3.3396863318185365799 -0.4290996100569766103 2.7271749331034311759 -3.5236553499616478646 -4.8958171995464052628 -2.5345783523754987776 0.63727082552783631542 1.564601186797121235 0.66267037115742344344 -1.8810244037096541803 -12.146506487743186753 -0.0094526783692764210221 -3.6330053409189417835 0.97567878911676109155];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.533787165877804;0.788527964418997;2.25106301047751];
y1_step1.xoffset = [-1.82517310309568;0.576613863304083;-0.470200245018933];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
